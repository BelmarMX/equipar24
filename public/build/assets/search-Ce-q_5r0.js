(function(i){var x=function(h,f){var t=this,_={allowFreeEntries:!0,allowDuplicates:!1,ajaxConfig:{},autoSelect:!0,selectFirst:!1,queryParam:"query",beforeSend:function(){},cls:"",data:null,dataUrlParams:{},disabled:!1,disabledField:null,displayField:"name",editable:!0,expanded:!1,expandOnFocus:!1,groupBy:null,hideTrigger:!1,highlight:!0,id:null,infoMsgCls:"",inputCfg:{},invalidCls:"ms-inv",matchCase:!1,maxDropHeight:290,maxEntryLength:null,maxEntryRenderer:function(n){return"Please reduce your entry by "+n+" character"+(n>1?"s":"")},maxSuggestions:null,maxSelection:10,maxSelectionRenderer:function(n){return"You cannot choose more than "+n+" item"+(n>1?"s":"")},method:"POST",minChars:0,minCharsRenderer:function(n){return"Please type "+n+" more character"+(n>1?"s":"")},mode:"local",name:null,noSuggestionText:"No suggestions",placeholder:"Type or click here",renderer:null,required:!1,resultAsString:!1,resultAsStringDelimiter:",",resultsField:"results",selectionCls:"",selectionContainer:null,selectionPosition:"inner",selectionRenderer:null,selectionStacked:!1,sortDir:"asc",sortOrder:null,strictSuggest:!1,style:"",toggleOnClick:!1,typeDelay:400,useTabKey:!1,useCommaKey:!0,useZebraStyle:!1,value:null,valueField:"id",vregex:null,vtype:null},S=i.extend({},f),e=i.extend(!0,{},_,S);this.addToSelection=function(n,s){if(!e.maxSelection||u.length<e.maxSelection){i.isArray(n)||(n=[n]);var r=!1;i.each(n,function(a,l){(e.allowDuplicates||i.inArray(l[e.valueField],t.getValue())===-1)&&(u.push(l),r=!0)}),r===!0&&(o._renderSelection(),this.empty(),s!==!0&&i(this).trigger("selectionchange",[this,this.getSelection()]))}this.input.attr("placeholder",e.selectionPosition==="inner"&&this.getValue().length>0?"":e.placeholder)},this.clear=function(n){this.removeFromSelection(u.slice(0),n)},this.collapse=function(){e.expanded===!0&&(this.combobox.detach(),e.expanded=!1,i(this).trigger("collapse",[this]))},this.disable=function(){this.container.addClass("ms-ctn-disabled"),e.disabled=!0,t.input.attr("disabled",!0)},this.empty=function(){this.input.val("")},this.enable=function(){this.container.removeClass("ms-ctn-disabled"),e.disabled=!1,t.input.attr("disabled",!1)},this.expand=function(){!e.expanded&&(this.input.val().length>=e.minChars||this.combobox.children().length>0)&&(this.combobox.appendTo(this.container),o._processSuggestions(),e.expanded=!0,i(this).trigger("expand",[this]))},this.isDisabled=function(){return e.disabled},this.isValid=function(){var n=e.required===!1||u.length>0;return(e.vtype||e.vregex)&&i.each(u,function(s,r){n=n&&o._validateSingleItem(r[e.valueField])}),n},this.getDataUrlParams=function(){return e.dataUrlParams},this.getName=function(){return e.name},this.getSelection=function(){return u},this.getRawValue=function(){return this.stripHtml(t.input.val())},this.stripHtml=function(n){return n.replace(/(<([^>]+)>)/gi,"")},this.getValue=function(){return i.map(u,function(n){return n[e.valueField]})},this.removeFromSelection=function(n,s){i.isArray(n)||(n=[n]);var r=!1;i.each(n,function(a,l){var d=i.inArray(l[e.valueField],t.getValue());d>-1&&(u.splice(d,1),r=!0)}),r===!0&&(o._renderSelection(),s!==!0&&i(this).trigger("selectionchange",[this,this.getSelection()]),e.expandOnFocus&&t.expand(),e.expanded&&o._processSuggestions()),this.input.attr("placeholder",e.selectionPosition==="inner"&&this.getValue().length>0?"":e.placeholder)},this.getData=function(){return y},this.setData=function(n){e.data=n,o._processSuggestions()},this.setName=function(n){e.name=n,n&&(e.name+=n.indexOf("[]")>0?"":"[]"),t._valueContainer&&i.each(t._valueContainer.children(),function(s,r){r.name=e.name})},this.setSelection=function(n){this.clear(),this.addToSelection(n)},this.setValue=function(n){var s=[];i.each(n,function(r,a){var l=!1;if(i.each(y,function(c,g){if(g[e.valueField]==a)return s.push(g),l=!0,!1}),!l)if(typeof a=="object")s.push(a);else{var d={};d[e.valueField]=a,d[e.displayField]=a,s.push(d)}}),s.length>0&&this.addToSelection(s)},this.setDataUrlParams=function(n){e.dataUrlParams=i.extend({},n)},this.setMaxSelection=function(n){n<0&&(n=null),n!==null&&u.length>n&&this.removeFromSelection(u.slice(n)),e.maxSelection=n};var u=[],m=0,D,b=!1,v=null,y=[],w=!1,I=8,F=9,T=13,E=17,O=27,H=32,R=38,A=40,k=188,o={_displaySuggestions:function(n){t.combobox.show(),t.combobox.empty();var s=0,r=0;if(v===null)o._renderComboItems(n),s=m*n.length;else{for(var a in v)r+=1,i("<div/>",{class:"ms-res-group",html:a}).appendTo(t.combobox),o._renderComboItems(v[a].items,!0);var l=t.combobox.find(".ms-res-group").outerHeight();if(l!==null){var d=r*l;s=m*n.length+d}else s=m*(n.length+r)}if(s<t.combobox.height()||s<=e.maxDropHeight?t.combobox.height(s):s>=t.combobox.height()&&s>e.maxDropHeight&&t.combobox.height(e.maxDropHeight),n.length===1&&e.autoSelect===!0&&t.combobox.children().filter(":not(.ms-res-item-disabled):last").addClass("ms-res-item-active"),e.selectFirst===!0&&t.combobox.children().filter(":not(.ms-res-item-disabled):first").addClass("ms-res-item-active"),n.length===0&&t.getRawValue()!==""){var c=e.noSuggestionText.replace(/\{\{.*\}\}/,t.input.val());o._updateHelper(c),t.collapse()}e.allowFreeEntries===!1&&(n.length===0?(i(t.input).addClass(e.invalidCls),t.combobox.hide()):i(t.input).removeClass(e.invalidCls))},_getEntriesFromStringArray:function(n){var s=[];return i.each(n,function(r,a){var l={};l[e.displayField]=l[e.valueField]=i.trim(a),s.push(l)}),s},_highlightSuggestion:function(n){var s=t.input.val(),r=["^","$","*","+","?",".","(",")",":","!","|","{","}","[","]"];if(i.each(r,function(l,d){s=s.replace(d,"\\"+d)}),s.length===0)return n;var a=e.matchCase===!0?"g":"gi";return n.replace(new RegExp("("+s+")(?!([^<]+)?>)",a),"<em>$1</em>")},_moveSelectedRow:function(n){var s,r,a,l;e.expanded||t.expand(),s=t.combobox.find(".ms-res-item:not(.ms-res-item-disabled)"),r=n==="down"?s.eq(0):s.filter(":last"),(a=t.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first")).length>0&&(n==="down"?((r=a.nextAll(".ms-res-item:not(.ms-res-item-disabled)").first()).length===0&&(r=s.eq(0)),l=t.combobox.scrollTop(),t.combobox.scrollTop(0),r[0].offsetTop+r.outerHeight()>t.combobox.height()&&t.combobox.scrollTop(l+m)):((r=a.prevAll(".ms-res-item:not(.ms-res-item-disabled)").first()).length===0&&(r=s.filter(":last"),t.combobox.scrollTop(m*s.length)),r[0].offsetTop<t.combobox.scrollTop()&&t.combobox.scrollTop(t.combobox.scrollTop()-m))),s.removeClass("ms-res-item-active"),r.addClass("ms-res-item-active")},_processSuggestions:function(n){var s=null,r=n||e.data;if(r!==null){if(typeof r=="function"&&(r=r.call(t,t.getRawValue())),typeof r=="string"){i(t).trigger("beforeload",[t]);var a={};a[e.queryParam]=t.input.val();var l=i.extend(a,e.dataUrlParams);return void i.ajax(i.extend({type:e.method,url:r,data:l,beforeSend:e.beforeSend,success:function(c){s=typeof c=="string"?JSON.parse(c):c,o._processSuggestions(s),i(t).trigger("load",[t,s]),o._asyncValues&&(t.setValue(typeof o._asyncValues=="string"?JSON.parse(o._asyncValues):o._asyncValues),o._renderSelection(),delete o._asyncValues)},error:function(c,g,C){i(t).trigger("error",[t,c,g,C])}},e.ajaxConfig))}y=r.length>0&&typeof r[0]=="string"?o._getEntriesFromStringArray(r):r[e.resultsField]||r;var d=e.mode==="remote"?y:o._sortAndTrim(y);o._displaySuggestions(o._group(d))}},_render:function(n){if(t.setName(e.name),t.container=i("<div/>",{class:"ms-ctn form-control "+(e.resultAsString?"ms-as-string ":"")+e.cls+(i(n).hasClass("input-lg")?" input-lg":"")+(i(n).hasClass("input-sm")?" input-sm":"")+(e.disabled===!0?" ms-ctn-disabled":"")+(e.editable===!0?"":" ms-ctn-readonly")+(e.hideTrigger===!1?"":" ms-no-trigger"),style:e.style,id:e.id}),t.container.on("focus",i.proxy(p._onFocus,this)),t.container.on("blur",i.proxy(p._onBlur,this)),t.container.on("keydown",i.proxy(p._onKeyDown,this)),t.container.on("keyup",i.proxy(p._onKeyUp,this)),t.input=i("<input/>",i.extend({type:"text",class:e.editable===!0?"":" ms-input-readonly",readonly:!e.editable,placeholder:e.placeholder,disabled:e.disabled},e.inputCfg)),t.input.on("focus",i.proxy(p._onInputFocus,this)),t.input.on("click",i.proxy(p._onInputClick,this)),t.combobox=i("<div/>",{class:"ms-res-ctn dropdown-menu"}).height(e.maxDropHeight),t.combobox.on("click","div.ms-res-item",i.proxy(p._onComboItemSelected,this)),t.combobox.on("mouseover","div.ms-res-item",i.proxy(p._onComboItemMouseOver,this)),e.selectionContainer?(t.selectionContainer=e.selectionContainer,i(t.selectionContainer).addClass("ms-sel-ctn")):t.selectionContainer=i("<div/>",{class:"ms-sel-ctn"}),t.selectionContainer.on("click",i.proxy(p._onFocus,this)),e.selectionPosition!=="inner"||e.selectionContainer?t.container.append(t.input):t.selectionContainer.append(t.input),t.helper=i("<span/>",{class:"ms-helper "+e.infoMsgCls}),o._updateHelper(),t.container.append(t.helper),i(n).replaceWith(t.container),!e.selectionContainer)switch(e.selectionPosition){case"bottom":t.selectionContainer.insertAfter(t.container),e.selectionStacked===!0&&(t.selectionContainer.width(t.container.width()),t.selectionContainer.addClass("ms-stacked"));break;case"right":t.selectionContainer.insertAfter(t.container),t.container.css("float","left");break;default:t.container.append(t.selectionContainer)}e.hideTrigger===!1&&(t.trigger=i("<div/>",{class:"ms-trigger",html:'<div class="ms-trigger-ico"></div>'}),t.trigger.on("click",i.proxy(p._onTriggerClick,this)),t.container.append(t.trigger)),i(window).on("resize",i.proxy(p._onWindowResized,this)),e.value===null&&e.data===null||(typeof e.data=="string"?(o._asyncValues=e.value,o._processSuggestions()):(o._processSuggestions(),e.value!==null&&(t.setValue(e.value),o._renderSelection()))),i("body").on("click",function(s){t.container.hasClass("ms-ctn-focus")&&t.container.has(s.target).length===0&&s.target.className.indexOf("ms-res-item")<0&&s.target.className.indexOf("ms-close-btn")<0&&t.container[0]!==s.target&&p._onBlur()}),e.expanded===!0&&(e.expanded=!1,t.expand())},_renderComboItems:function(n,s){var r=this,a="";i.each(n,function(l,d){var c=e.renderer!==null?e.renderer.call(r,d):d[e.displayField],g=e.disabledField!==null&&d[e.disabledField]===!0,C=i("<div/>",{class:"ms-res-item "+(s?"ms-res-item-grouped ":"")+(g?"ms-res-item-disabled ":"")+(l%2==1&&e.useZebraStyle===!0?"ms-res-odd":""),html:e.highlight===!0?o._highlightSuggestion(c):c,"data-json":JSON.stringify(d)});a+=i("<div/>").append(C).html()}),t.combobox.append(a),m=t.combobox.find(".ms-res-item:first").outerHeight()},_renderSelection:function(){var n=this,s=0,r=0,a=[],l=e.resultAsString===!0&&!b;t.selectionContainer.find(".ms-sel-item").remove(),t._valueContainer!==void 0&&t._valueContainer.remove(),i.each(u,function(d,c){var g,C=e.selectionRenderer!==null?e.selectionRenderer.call(n,c):c[e.displayField],V=o._validateSingleItem(c[e.displayField])?"":" ms-sel-invalid";l===!0?g=i("<div/>",{class:"ms-sel-item ms-sel-text "+e.selectionCls+V,html:C+(d===u.length-1?"":e.resultAsStringDelimiter)}).data("json",c):(g=i("<div/>",{class:"ms-sel-item "+e.selectionCls+V,html:C}).data("json",c),e.disabled===!1&&i("<span/>",{class:"ms-close-btn"}).data("json",c).prependTo(g).on("click",i.proxy(p._onTagTriggerClick,n))),a.push(g)}),t.selectionContainer.prepend(a),t._valueContainer=i("<div/>",{style:"display: none;"}),i.each(t.getValue(),function(d,c){i("<input/>",{type:"hidden",name:e.name,value:c}).appendTo(t._valueContainer)}),t._valueContainer.appendTo(t.selectionContainer),e.selectionPosition!=="inner"||e.selectionContainer||(t.input.width(0),r=t.input.offset().left-t.selectionContainer.offset().left,s=t.container.width()-r-42,t.input.width(s)),u.length===e.maxSelection?o._updateHelper(e.maxSelectionRenderer.call(this,u.length)):t.helper.hide()},_selectItem:function(n){e.maxSelection===1&&(u=[]),t.addToSelection(n.data("json")),n.removeClass("ms-res-item-active"),e.expandOnFocus!==!1&&u.length!==e.maxSelection||t.collapse(),b?b&&(e.expandOnFocus||w)&&(o._processSuggestions(),w&&t.expand()):t.input.trigger("focus")},_sortAndTrim:function(n){var s=t.getRawValue(),r=[],a=[],l=t.getValue();return s.length>0?i.each(n,function(d,c){var g=c[e.displayField];(e.matchCase===!0&&g.indexOf(s)>-1||e.matchCase===!1&&g.toLowerCase().indexOf(s.toLowerCase())>-1)&&(e.strictSuggest!==!1&&g.toLowerCase().indexOf(s.toLowerCase())!==0||r.push(c))}):r=n,i.each(r,function(d,c){(e.allowDuplicates||i.inArray(c[e.valueField],l)===-1)&&a.push(c)}),e.sortOrder!==null&&a.sort(function(d,c){return d[e.sortOrder]<c[e.sortOrder]?e.sortDir==="asc"?-1:1:d[e.sortOrder]>c[e.sortOrder]?e.sortDir==="asc"?1:-1:0}),e.maxSuggestions&&e.maxSuggestions>0&&(a=a.slice(0,e.maxSuggestions)),a},_group:function(n){return e.groupBy!==null&&(v={},i.each(n,function(s,r){var a=e.groupBy.indexOf(".")>-1?e.groupBy.split("."):e.groupBy,l=r[e.groupBy];if(typeof a!="string")for(l=r;a.length>0;)l=l[a.shift()];v[l]===void 0?v[l]={title:l,items:[r]}:v[l].items.push(r)})),n},_updateHelper:function(n){t.helper.html(n),t.helper.is(":visible")||t.helper.fadeIn()},_validateSingleItem:function(n){if(e.vregex!==null&&e.vregex instanceof RegExp)return e.vregex.test(n);if(e.vtype!==null)switch(e.vtype){case"alpha":return/^[a-zA-Z_]+$/.test(n);case"alphanum":return/^[a-zA-Z0-9_]+$/.test(n);case"email":return/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/.test(n);case"url":return/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(n);case"ipaddress":return/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(n)}return!0}},p={_onBlur:function(){if(t.container.removeClass("ms-ctn-focus"),t.collapse(),b=!1,t.getRawValue()!==""&&e.allowFreeEntries===!0){var n={};n[e.displayField]=n[e.valueField]=i.trim(t.getRawValue()),t.addToSelection(n)}o._renderSelection(),t.isValid()===!1?t.container.addClass(e.invalidCls):t.input.val()!==""&&e.allowFreeEntries===!1&&(t.empty(),o._updateHelper("")),i(t).trigger("blur",[t])},_onComboItemMouseOver:function(n){var s=i(n.currentTarget);s.hasClass("ms-res-item-disabled")||(t.combobox.children().removeClass("ms-res-item-active"),s.addClass("ms-res-item-active"))},_onComboItemSelected:function(n){i(n.currentTarget).hasClass("ms-res-item-disabled")||o._selectItem(i(n.currentTarget))},_onFocus:function(){t.input.trigger("focus")},_onInputClick:function(){t.isDisabled()===!1&&b&&e.toggleOnClick===!0&&(e.expanded?t.collapse():t.expand())},_onInputFocus:function(){if(t.isDisabled()===!1&&!b){b=!0,t.container.addClass("ms-ctn-focus"),t.container.removeClass(e.invalidCls);var n=t.getRawValue().length;e.expandOnFocus===!0&&t.expand(),u.length===e.maxSelection?o._updateHelper(e.maxSelectionRenderer.call(this,u.length)):n<e.minChars&&o._updateHelper(e.minCharsRenderer.call(this,e.minChars-n)),o._renderSelection(),i(t).trigger("focus",[t])}},_onKeyDown:function(n){var s=t.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first"),r=t.input.val();if(i(t).trigger("keydown",[t,n]),n.keyCode!==F||e.useTabKey!==!1&&(e.useTabKey!==!0||s.length!==0||t.input.val().length!==0))switch(n.keyCode){case I:r.length===0&&t.getSelection().length>0&&e.selectionPosition==="inner"&&(u.pop(),o._renderSelection(),i(t).trigger("selectionchange",[t,t.getSelection()]),t.input.attr("placeholder",e.selectionPosition==="inner"&&t.getValue().length>0?"":e.placeholder),t.input.trigger("focus"),n.preventDefault());break;case F:case O:n.preventDefault();break;case T:(r!==""||e.expanded)&&n.preventDefault();break;case k:e.useCommaKey===!0&&n.preventDefault();break;case E:w=!0;break;case A:n.preventDefault(),o._moveSelectedRow("down");break;case R:n.preventDefault(),o._moveSelectedRow("up");break;default:u.length===e.maxSelection&&n.preventDefault()}else p._onBlur()},_onKeyUp:function(n){var s=t.getRawValue(),r=i.trim(t.input.val()).length>0&&(!e.maxEntryLength||i.trim(t.input.val()).length<=e.maxEntryLength),a,l={};if(i(t).trigger("keyup",[t,n]),clearTimeout(D),n.keyCode===O&&e.expanded&&t.combobox.hide(),n.keyCode===F&&e.useTabKey===!1||n.keyCode>T&&n.keyCode<H)n.keyCode===E&&(w=!1);else switch(n.keyCode){case R:case A:n.preventDefault();break;case T:case F:case k:if(n.keyCode!==k||e.useCommaKey===!0){if(n.preventDefault(),e.expanded===!0&&(a=t.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first")).length>0)return void o._selectItem(a);r===!0&&e.allowFreeEntries===!0&&(l[e.displayField]=l[e.valueField]=i.trim(s),t.addToSelection(l),t.collapse(),t.input.trigger("focus"));break}default:u.length===e.maxSelection?o._updateHelper(e.maxSelectionRenderer.call(this,u.length)):s.length<e.minChars?(o._updateHelper(e.minCharsRenderer.call(this,e.minChars-s.length)),e.expanded===!0&&t.collapse()):e.maxEntryLength&&s.length>e.maxEntryLength?(o._updateHelper(e.maxEntryRenderer.call(this,s.length-e.maxEntryLength)),e.expanded===!0&&t.collapse()):(t.helper.hide(),e.minChars<=s.length&&(D=setTimeout(function(){e.expanded===!0?o._processSuggestions():t.expand()},e.typeDelay)))}},_onTagTriggerClick:function(n){t.removeFromSelection(i(n.currentTarget).data("json"))},_onTriggerClick:function(){if(t.isDisabled()===!1&&(e.expandOnFocus!==!0||u.length!==e.maxSelection))if(i(t).trigger("triggerclick",[t]),e.expanded===!0)t.collapse();else{var n=t.getRawValue().length;n>=e.minChars?(t.input.trigger("focus"),t.expand()):o._updateHelper(e.minCharsRenderer.call(this,e.minChars-n))}},_onWindowResized:function(){o._renderSelection()}};h!==null&&o._render(h)};i.fn.magicSuggest=function(h){var f=i(this);return f.length===1&&f.data("magicSuggest")?f.data("magicSuggest"):(f.each(function(t){var _=i(this);if(!_.data("magicSuggest")){this.nodeName.toLowerCase()==="select"&&(h.data=[],h.value=[],i.each(this.children,function(u,m){m.nodeName&&m.nodeName.toLowerCase()==="option"&&(h.data.push({id:m.value,name:m.text}),i(m).attr("selected")&&h.value.push(m.value))}));var S={};i.each(this.attributes,function(u,m){S[m.name]=m.name==="value"&&m.value!==""?JSON.parse(m.value):m.value});var e=new x(this,i.extend([],i.fn.magicSuggest.defaults,h,S));_.data("magicSuggest",e),e.container.data("magicSuggest",e)}}),f.length===1?f.data("magicSuggest"):f)},i.fn.magicSuggest.defaults={}})(jQuery);$(function(){$("#autocomplete").magicSuggest({typeDelay:3,data:"/productos/autocomplete",ajaxConfig:{headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}},valueField:"name",hideTrigger:!0,highlight:!0,useTabKey:!0,matchCase:!1,maxSelection:1,maxSuggestions:12,strictSuggest:!1,maxSelectionRenderer:function(){return"Presiona buscar"},minChars:3,minCharsRenderer:function(i){return"Continua escribiendo"},noSuggestionText:"Sin coincidencias",selectionRenderer:function(i){if(i)return i.title+" | "+i.brand+" | "+i.category+" | "+i.subcategory},renderer:function(i){let x=i.discount!=0?`<small class="bg-danger text-white p-1 ms-1">${i.discount}%</small>`:"",h=i.con_flete?'<span class="badge bg-danger text-white">Â¡Flete incluido!</span>':"";return`
                <div class="autocomplete-box">
                    <div class="autocomplete-image">
                        <img src="${i.image}">
                    </div>
                    <div class="autocomplete-info">
                        <span class="autocomplete-title">${i.title}</span>
                        <span class="autocomplete-cats">${i.category} / ${i.subcategory}</span>
                        ${h}
                        <div class="autocomplete-additional">
                            <span class="autocomplete-brand">${i.brand}</span>
                            <span class="autocomplete-price">$ ${i.price}${x}</span>
                        </div>
                    </div>
                </div>
            `}})});$(document).on("click",".ms-res-item",function(i){document.getElementById("load8").removeAttribute("hidden");let x=JSON.parse($(this).attr("data-json"));if(x)return location.href=x.route});$(document).on("click","#do-search",function(i){i.preventDefault(),document.getElementById("load8").removeAttribute("hidden");let x=$(this).parent("form"),h=$(document).find('input[name="search[]"]').val(),f=x.attr("action").replace("__search_term__",encodeURI(h));location.href=f});$(document).on("keydown",'.ms-sel-ctn > input[type="text"]',function(i){(i.which===13||i.keyCode===13)&&$("#do-search").click()});
